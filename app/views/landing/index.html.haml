%section.dashboard{ style: "display: flex; height: 100vh; background-color: #2C3E50; color: #ECF0F1; font-family: sans-serif; overflow: hidden;" }
  / Sidebar
  %aside.sidebar{ style: "width: 300px; background-color: #1ABC9C; padding: 20px; display: flex; flex-direction: column; justify-content: space-between;" }
    %div.logo
      %h1{ style: "color: #ECF0F1; font-size: 1.5rem; margin-bottom: 20px;" }
        Welcome back, #{@current_user.name}!
        The Grid awaits your return to Shards of the Grid.
        Let the Adventure Begin!
    / Create Game Button
    %button.btn.btn-primary{ 
      "data-bs-toggle" => "modal", 
      "data-bs-target" => "#createGameModal", 
      style: "margin-bottom: 20px; background-color: #2ECC71; color: #ECF0F1; padding: 10px; border: none; border-radius: 5px; width: 100%; font-size: 1.2rem;" 
    }
      Create Game
    / Join Game Button
    %button.btn.btn-secondary{ 
      "data-bs-toggle" => "modal", 
      "data-bs-target" => "#joinGameModal", 
      style: "background-color: #3498DB; color: #ECF0F1; padding: 10px; border: none; border-radius: 5px; width: 100%; font-size: 1.2rem;" 
    }
      Join Game

  / Scrollable Game List
  %div.scrollable-game-list{ style: "flex: 1; padding: 20px; overflow-y: scroll; -ms-overflow-style: none; scrollbar-width: none;" }
    %h2{ style: "color: #ECF0F1; margin-bottom: 20px;" } Games:
    - if @games.any?
      - @games.each do |game|
        %div.game-card{ style: "background-color: #4A235A; padding: 20px; border-radius: 5px; margin-bottom: 10px;" }
          %p{ style: "color: #ECF0F1; font-weight: bold;" }
            = game.name
          %p{ style: "color: #BDC3C7;" }
            = game.context
          -# %p{ style: "color: #BDC3C7;" }
          -#   Join Code: #{game.join_code}
          = link_to 'View Game', game_path(game), class: 'btn btn-success', style: "margin-top: 10px;"
    - else
      %p{ style: "color: #BDC3C7;" } No games available. Create one!

  / User Settings Panel
  %div.profile
    %div.dropdown.custom-dropdown{ style: "text-align: center;" }
      %img{
        src: image_path('logo.png'),
        alt: "Profile Picture",
        class: "dropdown-toggle",
        id: "userDropdown",
        "data-bs-toggle" => "dropdown",
        style: "width: 65px; height: 65px; border-radius: 50%; margin-top: 10px; margin-right: 15px; cursor: pointer; box-sizing: border-box"
      }
      %ul.dropdown-menu.dropdown-menu-end.custom-dropdown-menu{"aria-labelledby" => "userDropdown"}
        %li
          = link_to 'Settings', settings_path, class: 'dropdown-item custom-dropdown-item'
        %li
          = link_to 'Friends', friends_path, class: 'dropdown-item custom-dropdown-item'
        %li
          = button_to 'Log Out', logout_path, method: :delete, class: 'dropdown-item custom-dropdown-item', id: 'logout_button'

  /==============================
  / Create Game Modal
  /==============================
  .modal.fade#createGameModal{ tabindex: "-1", "aria-labelledby" => "createGameModalLabel", "aria-hidden" => "true" }
    .modal-dialog
      .modal-content
        = form_with model: Game.new, url: games_path, local: true do |form|
          .modal-header
            %h5.modal-title#createGameModalLabel{ style: "color: black;" } Create a New Game
            %button.btn-close{ type: "button", "data-bs-dismiss" => "modal", "aria-label" => "Close" }
          .modal-body
            - if flash[:alert]
              .alert.alert-danger= flash[:alert]
            .mb-3
              = form.label :name, class: 'form-label', style: 'color: black;'
              = form.text_field :name, class: 'form-control', required: true
            .mb-3
              = form.label :join_code, class: 'form-label', style: 'color: black;'
              = form.text_field :join_code, class: 'form-control', required: true, maxlength: 6, placeholder: "e.g., A1B2C3"
          .modal-footer
            = form.submit 'Create Game', class: 'btn btn-primary'
            %button.btn.btn-secondary{ type: "button", "data-bs-dismiss" => "modal" } Close

  /==============================
  / Join Game Modal
  /==============================
  .modal.fade#joinGameModal{ tabindex: "-1", "aria-labelledby" => "joinGameModalLabel", "aria-hidden" => "true" }
    .modal-dialog
      .modal-content
        = form_with url: join_games_path, method: :post, local: true do |form|
          .modal-header
            %h5.modal-title#joinGameModalLabel{ style: "color: black;" } Join a Game
            %button.btn-close{ type: "button", "data-bs-dismiss" => "modal", "aria-label" => "Close" }
          .modal-body
            - if flash[:alert]
              .alert.alert-danger= flash[:alert]
            .mb-3
              = form.label :join_code, 'Enter Join Code', class: 'form-label', style: 'color: black;'
              = form.text_field :join_code, class: 'form-control', required: true, maxlength: 6, placeholder: "e.g., A1B2C3"
          .modal-footer
            = form.submit 'Join Game', class: 'btn btn-primary'
            %button.btn.btn-secondary{ type: "button", "data-bs-dismiss" => "modal" } Close
